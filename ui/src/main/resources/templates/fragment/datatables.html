<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
<script th:fragment="datatables" th:inline="javascript">
	/*<![CDATA[*/
		$(document).ready(function() {

	/*[+
   			var searchTxt = [[#{html.datatables.search}]];
   			var dropdownTxt = [[#{html.datatables.dropdown}]];
   			var infoDefaultTxt = [[#{html.datatables.info.default}]];
   			var infoEmptyTxt = [[#{html.datatables.info.empty}]];
   			var infoFilteredTxt = [[#{html.datatables.info.filtered}]];
   			var prevTxt = [[#{html.datatables.prev}]];
   			var nextTxt = [[#{html.datatables.next}]];
	+]*/

		    $('.listTable').DataTable({
		        'paging':   true,
		        'ordering': true,
		        'info':     true,
		        'stateSave': true,
		        "language": {
		            "search":       searchTxt,
		            "lengthMenu":   dropdownTxt,
		            "info":         infoDefaultTxt,
		            "zeroRecords":  infoEmptyTxt,
		            "infoEmpty":    "",
		            "infoFiltered": infoFilteredTxt,
		            "paginate": {
		            	"next": nextTxt,
		            	"previous": prevTxt
		            }
		        }
		    });
		});
	
		function dataTablesToggleColumn(elem) {
			if (!currentTable) {
				return false;
			}
			
			var cId = $(elem).data("cid");

			currentTable.column(cId).visible(!currentTable.column(cId).visible());
			
			var dropDownElem = $(elem).parent();
			dataTablesRefreshIcons(dropDownElem);

			return false;
		}

		function dataTablesRefreshIcons(dropDownElem) {
			if (!currentTable) {
				return false;
			}
			
			dropDownElem.find("a").each(function() {
				var cId = $(this).data("cid");
			
				if (currentTable.column(cId).visible()) {
					$(this).find("em").addClass("fa-check");
					$(this).find("em").removeClass("fa-minus");
				}
				else {
					$(this).find("em").addClass("fa-minus");
					$(this).find("em").removeClass("fa-check");
				}
			});
		}
	/*]]>*/

</script>
</body>
</html>
